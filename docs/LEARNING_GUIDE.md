# ğŸ“š é¡¹ç›®å­¦ä¹ æŒ‡å—

## ğŸ¯ å¿«é€Ÿå…¥é—¨è·¯å¾„

æœ¬æŒ‡å—å°†å¸®åŠ©ä½ å¿«é€Ÿç†è§£æ•´ä¸ªé¡¹ç›®çš„æ¶æ„å’Œå®ç°ç»†èŠ‚ã€‚

---

## ğŸ“– ç¬¬ä¸€é˜¶æ®µï¼šç†è§£é¡¹ç›®æ•´ä½“æ¶æ„ï¼ˆ30åˆ†é’Ÿï¼‰

### 1. é˜…è¯»é¡ºåº

#### æ­¥éª¤1ï¼šäº†è§£é¡¹ç›®æ¦‚è¿°
**æ–‡ä»¶ï¼š** `README.md` (5åˆ†é’Ÿ)
- äº†è§£é¡¹ç›®çš„ä¸»è¦åŠŸèƒ½
- ç†è§£ä¸‰ä¸ªæ ¸å¿ƒæ¨¡å—ï¼šLLMæ§åˆ¶ã€MAPFè§„åˆ’ã€MuJoCoå¯è§†åŒ–
- æŸ¥çœ‹å¿«é€Ÿå¼€å§‹ç¤ºä¾‹

#### æ­¥éª¤2ï¼šç†è§£é¡¹ç›®ç»“æ„
**æ–‡ä»¶ï¼š** `docs/user_guides/HOW_TO_RUN.md` (10åˆ†é’Ÿ)
- äº†è§£ä¸‰ç§è¿è¡Œæ–¹å¼
- ç†è§£ä¸åŒæ¨¡å—çš„ä½œç”¨
- æŸ¥çœ‹è¿è¡Œç¤ºä¾‹

#### æ­¥éª¤3ï¼šç†è§£æŠ€æœ¯æ¶æ„
**æ–‡ä»¶ï¼š** `docs/technical/HOW_LLM_CONTROLS_PATH_PLANNING.md` (15åˆ†é’Ÿ)
- ç†è§£ä»ç”¨æˆ·å‘½ä»¤åˆ°è·¯å¾„æ‰§è¡Œçš„å®Œæ•´æµç¨‹
- ç†è§£LLMã€MAPFã€MuJoCoä¹‹é—´çš„å…³ç³»

---

## ğŸ”§ ç¬¬äºŒé˜¶æ®µï¼šç†è§£æ ¸å¿ƒç®—æ³•ï¼ˆ1-2å°æ—¶ï¼‰

### 2. ä»£ç é˜…è¯»é¡ºåºï¼ˆæŒ‰ä¾èµ–å…³ç³»ï¼‰

#### ç¬¬ä¸€å±‚ï¼šåŸºç¡€ç¯å¢ƒï¼ˆä»åº•å±‚å¼€å§‹ï¼‰

**æ–‡ä»¶1ï¼š`nav_world/nav_env.py`** â­â­â­
**é‡è¦æ€§ï¼š** æœ€é«˜ - è¿™æ˜¯æ•´ä¸ªç³»ç»Ÿçš„åŸºç¡€
**é˜…è¯»æ—¶é—´ï¼š** 30-45åˆ†é’Ÿ

**å…³é”®æŠ€æœ¯ç‚¹ï¼š**

1. **MuJoCoç¯å¢ƒåˆå§‹åŒ–**
   ```python
   self.model: MjModel = mujoco.MjModel.from_xml_path(xml_path)
   self.data: MjData = mujoco.MjData(self.model)
   ```
   - `MjModel`: MuJoCoç‰©ç†æ¨¡å‹ï¼ˆä»XMLåŠ è½½ï¼‰
   - `MjData`: ä»¿çœŸçŠ¶æ€æ•°æ®ï¼ˆä½ç½®ã€é€Ÿåº¦ç­‰ï¼‰

2. **å æ®æ …æ ¼ï¼ˆOccupancy Gridï¼‰**
   ```python
   def _build_occupancy(self):
       # å°†è¿ç»­ä¸–ç•Œåæ ‡è½¬æ¢ä¸ºç¦»æ•£ç½‘æ ¼
       # grid[i, j] = 0 è¡¨ç¤ºå¯é€šè¡Œï¼Œ1 è¡¨ç¤ºéšœç¢ç‰©
   ```
   - **ä½œç”¨ï¼š** å°†è¿ç»­ç©ºé—´ç¦»æ•£åŒ–ï¼Œç”¨äºè·¯å¾„è§„åˆ’
   - **åˆ†è¾¨ç‡ï¼š** `grid_res = 0.1m`ï¼ˆæ¯ä¸ªç½‘æ ¼å•å…ƒ0.1ç±³ï¼‰
   - **åæ ‡è½¬æ¢ï¼š** `_world2grid()` å’Œ `_grid2world()`

3. **A*è·¯å¾„è§„åˆ’ç®—æ³•**
   ```python
   def astar(grid, start, goal):
       # ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆå †ï¼‰å®ç°A*æœç´¢
       # f-cost = g-cost + heuristic
       # heuristic = Manhattanè·ç¦»
   ```
   - **g-costï¼š** ä»èµ·ç‚¹åˆ°å½“å‰èŠ‚ç‚¹çš„å®é™…ä»£ä»·
   - **h-costï¼š** ä»å½“å‰èŠ‚ç‚¹åˆ°ç›®æ ‡çš„å¯å‘å¼ä¼°è®¡ï¼ˆManhattanè·ç¦»ï¼‰
   - **f-costï¼š** g + hï¼Œç”¨äºä¼˜å…ˆé˜Ÿåˆ—æ’åº

4. **AgentStateæ•°æ®ç»“æ„**
   ```python
   @dataclass
   class AgentState:
       name: str
       radius: float = 0.12
       speed: float = 0.8  # m/s
       path_world: Optional[List[Tuple[float,float]]] = None
       path_ptr: int = 0
       start_time: float = 0.0  # å»¶è¿Ÿå¯åŠ¨æ—¶é—´
   ```
   - **path_worldï¼š** ä¸–ç•Œåæ ‡ç³»ä¸‹çš„è·¯å¾„ç‚¹åˆ—è¡¨
   - **path_ptrï¼š** å½“å‰è·¯å¾„ç‚¹ç´¢å¼•
   - **start_timeï¼š** å»¶è¿Ÿæœºåˆ¶ï¼Œæ§åˆ¶æœºå™¨äººä½•æ—¶å¼€å§‹ç§»åŠ¨

5. **step()æ–¹æ³• - æ ¸å¿ƒæ‰§è¡Œé€»è¾‘**
   ```python
   def step(self, dt: float, current_time: float = 0.0, 
            agent_delays: Dict[str, float] = None):
       # 1. æ£€æŸ¥å»¶è¿Ÿï¼šå¦‚æœ current_time < delayï¼Œä¸ç§»åŠ¨
       # 2. æ²¿è·¯å¾„ç§»åŠ¨ï¼šè®¡ç®—ä¸‹ä¸€ä¸ªç›®æ ‡ç‚¹
       # 3. è¿åŠ¨å­¦æ§åˆ¶ï¼šç›´æ¥è®¾ç½®ä½ç½®ï¼ˆæ— ç‰©ç†ä»¿çœŸï¼‰
       # 4. æ£€æŸ¥å®Œæˆï¼šè·ç¦»ç›®æ ‡ < 0.05m
   ```
   - **å»¶è¿Ÿæœºåˆ¶ï¼š** é€šè¿‡`current_time`å’Œ`agent_delays`å®ç°
   - **è¿åŠ¨å­¦æ§åˆ¶ï¼š** ç›´æ¥è®¾ç½®`qpos`ï¼Œä¸è®¡ç®—åŠ›/é€Ÿåº¦
   - **å®Œæˆåˆ¤æ–­ï¼š** ä½¿ç”¨æ¬§æ°è·ç¦»é˜ˆå€¼ï¼ˆ0.05mï¼‰

**å…³é”®ç†è§£ç‚¹ï¼š**
- âœ… è¿™æ˜¯**å•æ™ºèƒ½ä½“**è·¯å¾„è§„åˆ’çš„åŸºç¡€
- âœ… æ¯ä¸ªæœºå™¨äººç‹¬ç«‹è§„åˆ’ï¼Œ**ä¸è€ƒè™‘ç¢°æ’**
- âœ… ä½¿ç”¨**è¿åŠ¨å­¦æ§åˆ¶**ï¼ˆç›´æ¥è®¾ç½®ä½ç½®ï¼‰ï¼Œä¸æ˜¯åŠ¨åŠ›å­¦ä»¿çœŸ

---

**æ–‡ä»¶2ï¼š`nav_world/multi_agent_planner.py`** â­â­â­
**é‡è¦æ€§ï¼š** æœ€é«˜ - MAPFæ ¸å¿ƒç®—æ³•
**é˜…è¯»æ—¶é—´ï¼š** 45-60åˆ†é’Ÿ

**å…³é”®æŠ€æœ¯ç‚¹ï¼š**

1. **ReservationTableï¼ˆé¢„ç•™è¡¨ï¼‰** ğŸ”‘
   ```python
   class ReservationTable:
       def __init__(self):
           # é¡¶ç‚¹é¢„ç•™ï¼š(x, y, t) - ä½ç½®-æ—¶é—´å ç”¨
           self.vertices: Set[Tuple[int, int, int]] = set()
           # è¾¹é¢„ç•™ï¼š(x1, y1, x2, y2, t) - ç§»åŠ¨è¾¹å ç”¨
           self.edges: Set[Tuple[int, int, int, int, int]] = set()
   ```
   - **ä½œç”¨ï¼š** è®°å½•å·²è§„åˆ’çš„è·¯å¾„ï¼Œé˜²æ­¢åç»­æ™ºèƒ½ä½“å†²çª
   - **é¡¶ç‚¹å†²çªï¼š** ä¸¤ä¸ªæ™ºèƒ½ä½“åœ¨åŒä¸€æ—¶é—´å æ®åŒä¸€ä½ç½®
   - **è¾¹å†²çªï¼š** ä¸¤ä¸ªæ™ºèƒ½ä½“åœ¨è¿ç»­æ—¶é—´æ­¥äº¤æ¢ä½ç½®

2. **æ—¶é—´æ‰©å±•A*ï¼ˆTime-Extended A*ï¼‰**
   ```python
   def astar_time_extended(grid, start, goal, reservation_table, max_time):
       # èŠ‚ç‚¹æ ¼å¼ï¼š(x, y, t) è€Œä¸æ˜¯ (x, y)
       # æœç´¢ç©ºé—´ï¼š3Dï¼ˆç©ºé—´ Ã— æ—¶é—´ï¼‰
   ```
   - **å…³é”®åŒºåˆ«ï¼š** èŠ‚ç‚¹åŒ…å«æ—¶é—´ç»´åº¦ `(x, y, t)`
   - **å†²çªæ£€æŸ¥ï¼š** åœ¨æ‰©å±•é‚»å±…æ—¶æ£€æŸ¥é¢„ç•™è¡¨
   - **ç­‰å¾…åŠ¨ä½œï¼š** æ”¯æŒ `(x, y, t) â†’ (x, y, t+1)` åŸåœ°ç­‰å¾…

3. **ä¼˜å…ˆçº§è§„åˆ’æµç¨‹**
   ```python
   def plan_priority(grid, agents, order, max_time):
       reservation_table = ReservationTable()
       for agent_id in order:  # æŒ‰ä¼˜å…ˆçº§é¡ºåº
           # 1. è§„åˆ’è·¯å¾„ï¼ˆé¿å¼€é¢„ç•™è¡¨ï¼‰
           path = astar_time_extended(..., reservation_table, ...)
           # 2. å°†è·¯å¾„åŠ å…¥é¢„ç•™è¡¨
           reservation_table.add_path(path)
   ```
   - **é¡ºåºè§„åˆ’ï¼š** é«˜ä¼˜å…ˆçº§å…ˆè§„åˆ’
   - **ç´¯ç§¯é¢„ç•™ï¼š** æ¯ä¸ªæ™ºèƒ½ä½“çš„è·¯å¾„éƒ½åŠ å…¥é¢„ç•™è¡¨
   - **ä¿è¯æ— ç¢°æ’ï¼š** åç»­æ™ºèƒ½ä½“å¿…é¡»é¿å¼€å·²è§„åˆ’è·¯å¾„

**å…³é”®ç†è§£ç‚¹ï¼š**
- âœ… è¿™æ˜¯**å¤šæ™ºèƒ½ä½“**è·¯å¾„è§„åˆ’çš„æ ¸å¿ƒ
- âœ… é€šè¿‡**é¢„ç•™è¡¨**æœºåˆ¶ä¿è¯æ— ç¢°æ’
- âœ… ä½¿ç”¨**æ—¶é—´æ‰©å±•A***åœ¨æ—¶ç©ºç©ºé—´ä¸­æœç´¢

**è¯¦ç»†è®²è§£ï¼š** å‚è€ƒ `docs/technical/MAPF_DETAILED_EXPLANATION.md`

---

**æ–‡ä»¶3ï¼š`nav_world/nav_env_mapf.py`** â­â­
**é‡è¦æ€§ï¼š** é«˜ - MAPFä¸NavEnvçš„é›†æˆ
**é˜…è¯»æ—¶é—´ï¼š** 20-30åˆ†é’Ÿ

**å…³é”®æŠ€æœ¯ç‚¹ï¼š**

1. **ç»§æ‰¿NavEnv**
   ```python
   class NavEnvMAPF(NavEnv):
       # ç»§æ‰¿æ‰€æœ‰åŸºç¡€åŠŸèƒ½
       # é‡å†™è·¯å¾„è§„åˆ’æ–¹æ³•
   ```
   - **ä¼˜åŠ¿ï¼š** å¤ç”¨NavEnvçš„æ‰€æœ‰åŠŸèƒ½ï¼ˆMuJoCoã€ç½‘æ ¼ã€åæ ‡è½¬æ¢ç­‰ï¼‰
   - **æ‰©å±•ï¼š** åªé‡å†™è·¯å¾„è§„åˆ’éƒ¨åˆ†

2. **MAPFè·¯å¾„è§„åˆ’**
   ```python
   def _plan_paths_mapf(self):
       # 1. åˆ›å»ºAgentSpecå¯¹è±¡
       agents = [AgentSpec(id='alice', start=..., goal=...), ...]
       # 2. è°ƒç”¨MAPFè§„åˆ’å™¨
       self.mapf_paths = plan_priority(grid, agents, order, max_time)
       # 3. è½¬æ¢æ—¶é—´æˆ³è·¯å¾„ä¸ºç©ºé—´è·¯å¾„
       # 4. è½¬æ¢ä¸ºä¸–ç•Œåæ ‡
   ```
   - **æ—¶é—´æˆ³è·¯å¾„ï¼š** `[(x, y, t), ...]` - åŒ…å«æ—¶é—´ä¿¡æ¯
   - **ç©ºé—´è·¯å¾„ï¼š** `[(x, y), ...]` - æå–ç©ºé—´ä½ç½®
   - **ä¸–ç•Œåæ ‡ï¼š** è½¬æ¢ä¸ºMuJoCoä¸–ç•Œåæ ‡ç³»

3. **ä¼˜å…ˆçº§é¡ºåºè®¾ç½®**
   ```python
   def set_priority_order(self, order: List[str]):
       # å¯ä»¥åŠ¨æ€è®¾ç½®ä¼˜å…ˆçº§é¡ºåº
       # ä¾‹å¦‚ï¼š['alice', 'bob'] æˆ– ['bob', 'alice']
   ```

**å…³é”®ç†è§£ç‚¹ï¼š**
- âœ… è¿™æ˜¯**é›†æˆå±‚**ï¼Œè¿æ¥MAPFç®—æ³•å’ŒNavEnvç¯å¢ƒ
- âœ… è´Ÿè´£**æ ¼å¼è½¬æ¢**ï¼šæ—¶é—´æˆ³è·¯å¾„ â†’ ç©ºé—´è·¯å¾„ â†’ ä¸–ç•Œåæ ‡

---

#### ç¬¬äºŒå±‚ï¼šLLMæ§åˆ¶æ¥å£

**æ–‡ä»¶4ï¼š`llm_interface/llm_controller.py`** â­â­
**é‡è¦æ€§ï¼š** é«˜ - LLMè§£ææ ¸å¿ƒ
**é˜…è¯»æ—¶é—´ï¼š** 30-40åˆ†é’Ÿ

**å…³é”®æŠ€æœ¯ç‚¹ï¼š**

1. **Pydanticæ•°æ®æ¨¡å‹**
   ```python
   class AgentSpec(BaseModel):
       id: str
       goal: List[float]  # [x, y]
       delay: float = 0.0  # å»¶è¿Ÿæ—¶é—´ï¼ˆç§’ï¼‰
   
   class TaskPlan(BaseModel):
       task: str
       agents: List[AgentSpec]
       priority: List[str]  # ä¼˜å…ˆçº§é¡ºåº
   ```
   - **ä½œç”¨ï¼š** ç±»å‹å®‰å…¨çš„æ•°æ®ç»“æ„
   - **éªŒè¯ï¼š** è‡ªåŠ¨éªŒè¯æ•°æ®æ ¼å¼å’Œçº¦æŸ
   - **å…¼å®¹æ€§ï¼š** ä½¿ç”¨è‡ªå®šä¹‰`__init__`å…¼å®¹Pydantic v1å’Œv2

2. **LLMè§£æå‡½æ•°**
   ```python
   def llm_parse_instruction(user_text: str) -> TaskPlan:
       # 1. è°ƒç”¨OpenAI API
       # 2. æå–JSONå“åº”
       # 3. éªŒè¯å¹¶è§£æä¸ºTaskPlan
       # 4. å¤±è´¥æ—¶è¿”å›fallbackè®¡åˆ’
   ```
   - **APIè°ƒç”¨ï¼š** ä½¿ç”¨GPT-4oæ¨¡å‹
   - **JSONæå–ï¼š** å¤„ç†markdownä»£ç å—åŒ…è£…
   - **é”™è¯¯å¤„ç†ï¼š** è‡ªåŠ¨fallbackåˆ°é»˜è®¤è®¡åˆ’

3. **ç¦»çº¿è§£æå‡½æ•°**
   ```python
   def llm_parse_instruction_offline(user_text: str) -> TaskPlan:
       # ç¡®å®šæ€§è§£æï¼Œä¸è°ƒç”¨API
       # ç”¨äºæµ‹è¯•å’Œæ¼”ç¤º
   ```
   - **ä½œç”¨ï¼š** ä¸ä¾èµ–APIçš„è§£ææ–¹å¼
   - **ç”¨é€”ï¼š** æµ‹è¯•ã€æ¼”ç¤ºã€ç¦»çº¿è¿è¡Œ

**å…³é”®ç†è§£ç‚¹ï¼š**
- âœ… LLMå°†**è‡ªç„¶è¯­è¨€**è½¬æ¢ä¸º**ç»“æ„åŒ–è®¡åˆ’**
- âœ… ä½¿ç”¨**Pydantic**ç¡®ä¿æ•°æ®æ ¼å¼æ­£ç¡®
- âœ… æ”¯æŒ**å»¶è¿Ÿè§£æ**ï¼ˆdelayå­—æ®µï¼‰

**è¯¦ç»†è®²è§£ï¼š** å‚è€ƒ `docs/technical/HOW_LLM_CONTROLS_PATH_PLANNING.md`

---

**æ–‡ä»¶5ï¼š`llm_interface/end_to_end_navigation.py`** â­â­â­
**é‡è¦æ€§ï¼š** æœ€é«˜ - ä¸»å…¥å£å’Œé›†æˆ
**é˜…è¯»æ—¶é—´ï¼š** 45-60åˆ†é’Ÿ

**å…³é”®æŠ€æœ¯ç‚¹ï¼š**

1. **EndToEndNavigationControllerç±»**
   ```python
   class EndToEndNavigationController:
       def __init__(self, xml_path, use_offline_parser=False):
           # åˆå§‹åŒ–NavEnvMAPFç¯å¢ƒ
           self.env = NavEnvMAPF(xml_path=xml_path, grid_res=0.1)
   ```
   - **ä½œç”¨ï¼š** æ•´åˆLLMã€MAPFã€MuJoCoä¸‰ä¸ªæ¨¡å—
   - **æµç¨‹ï¼š** è§£æ â†’ è§„åˆ’ â†’ æ‰§è¡Œ

2. **å®Œæ•´æµç¨‹**
   ```python
   # æ­¥éª¤1ï¼šè§£æç”¨æˆ·æŒ‡ä»¤
   task_plan = parse_user_instruction(user_text)
   
   # æ­¥éª¤2ï¼šè®¾ç½®ç›®æ ‡å’Œå»¶è¿Ÿ
   set_goals_from_plan(task_plan)
   
   # æ­¥éª¤3ï¼šMAPFè·¯å¾„è§„åˆ’
   mapf_paths = plan_paths_with_mapf(task_plan)
   
   # æ­¥éª¤4ï¼šMuJoCoæ‰§è¡Œ
   execute_in_mujoco(use_viewer=True)
   ```

3. **å»¶è¿Ÿæœºåˆ¶å®ç°**
   ```python
   def _execute_with_viewer(self):
       current_time = 0.0
       while not done:
           # ä¼ é€’current_timeå’Œagent_delaysç»™step()
           obs, done = self.env.step(
               dt=dt,
               current_time=current_time,
               agent_delays=self.agent_delays
           )
           current_time += dt
   ```
   - **æ—¶é—´è¿½è¸ªï¼š** ä½¿ç”¨`current_time`è¿½è¸ªä»¿çœŸæ—¶é—´
   - **å»¶è¿Ÿæ£€æŸ¥ï¼š** åœ¨`NavEnv.step()`ä¸­æ£€æŸ¥`current_time < delay`

4. **MuJoCo 3D Vieweré›†æˆ**
   ```python
   def _execute_with_viewer(self):
       viewer = mujoco.viewer.launch_passive(self.env.model, self.env.data)
       # å®æ—¶æ›´æ–°viewer
       while not done:
           mujoco.mj_step(self.env.model, self.env.data)
           viewer.sync()
   ```
   - **macOSæ”¯æŒï¼š** æ£€æµ‹å¹¶ä½¿ç”¨`mjpython`
   - **é”™è¯¯å¤„ç†ï¼š** å¤±è´¥æ—¶è‡ªåŠ¨fallbackåˆ°headlessæ¨¡å¼

**å…³é”®ç†è§£ç‚¹ï¼š**
- âœ… è¿™æ˜¯**ä¸»å…¥å£**ï¼Œæ•´åˆæ‰€æœ‰æ¨¡å—
- âœ… å®ç°**ç«¯åˆ°ç«¯æµç¨‹**ï¼šè‡ªç„¶è¯­è¨€ â†’ è·¯å¾„è§„åˆ’ â†’ 3Då¯è§†åŒ–
- âœ… æ”¯æŒ**å»¶è¿Ÿæœºåˆ¶**å’Œ**å®æ—¶å¯è§†åŒ–**

---

## ğŸ¨ ç¬¬ä¸‰é˜¶æ®µï¼šç†è§£å¯è§†åŒ–ï¼ˆ30åˆ†é’Ÿï¼‰

### 3. å¯è§†åŒ–æ¨¡å—

**æ–‡ä»¶6ï¼š`my_demos/robot_navigation_demo.py`** â­
**é‡è¦æ€§ï¼š** ä¸­ - 2Då¯è§†åŒ–ç¤ºä¾‹
**é˜…è¯»æ—¶é—´ï¼š** 15-20åˆ†é’Ÿ

**å…³é”®æŠ€æœ¯ç‚¹ï¼š**

1. **MatplotlibåŠ¨ç”»**
   ```python
   import matplotlib.animation as animation
   # ä½¿ç”¨FuncAnimationåˆ›å»ºåŠ¨ç”»
   ```

2. **2Dè½¨è¿¹ç»˜åˆ¶**
   - ç»˜åˆ¶æœºå™¨äººè½¨è¿¹
   - ç»˜åˆ¶éšœç¢ç‰©å’Œç›®æ ‡ç‚¹
   - å®æ—¶æ›´æ–°åŠ¨ç”»

---

## ğŸ” é‡è¦æŠ€æœ¯ç»†èŠ‚è¯¦è§£

### 1. åæ ‡ç³»ç»Ÿè½¬æ¢

**é—®é¢˜ï¼š** ä¸ºä»€ä¹ˆéœ€è¦åæ ‡è½¬æ¢ï¼Ÿ

**ç­”æ¡ˆï¼š** ç³»ç»Ÿä½¿ç”¨ä¸‰ç§ä¸åŒçš„åæ ‡ç³»ç»Ÿï¼š

1. **ä¸–ç•Œåæ ‡ï¼ˆWorld Coordinatesï¼‰**
   - å•ä½ï¼šç±³ï¼ˆmï¼‰
   - èŒƒå›´ï¼šx âˆˆ [-4, 4], y âˆˆ [-3, 3]
   - ç”¨é€”ï¼šMuJoCoç‰©ç†ä»¿çœŸ

2. **ç½‘æ ¼åæ ‡ï¼ˆGrid Coordinatesï¼‰**
   - å•ä½ï¼šç½‘æ ¼å•å…ƒ
   - åˆ†è¾¨ç‡ï¼š0.1m/å•å…ƒ
   - ç”¨é€”ï¼šè·¯å¾„è§„åˆ’ç®—æ³•

3. **åƒç´ åæ ‡ï¼ˆPixel Coordinatesï¼‰**
   - å•ä½ï¼šåƒç´ 
   - ç”¨é€”ï¼šæ¸²æŸ“å’Œå¯è§†åŒ–

**è½¬æ¢å‡½æ•°ï¼š**
```python
# ä¸–ç•Œåæ ‡ â†’ ç½‘æ ¼åæ ‡
def _world2grid(self, wx: float, wy: float) -> Tuple[int, int]:
    ix = int((wx - self.xmin) / self.grid_res)
    iy = int((wy - self.ymin) / self.grid_res)
    return (ix, iy)

# ç½‘æ ¼åæ ‡ â†’ ä¸–ç•Œåæ ‡
def _grid2world(self, ix: int, iy: int) -> Tuple[float, float]:
    wx = self.xmin + ix * self.grid_res
    wy = self.ymin + iy * self.grid_res
    return (wx, wy)
```

---

### 2. å æ®æ …æ ¼ï¼ˆOccupancy Gridï¼‰

**é—®é¢˜ï¼š** å¦‚ä½•ä»MuJoCo XMLç”Ÿæˆå æ®æ …æ ¼ï¼Ÿ

**ç­”æ¡ˆï¼š** é€šè¿‡ç¢°æ’æ£€æµ‹

```python
def _build_occupancy(self):
    # 1. åˆ›å»ºç½‘æ ¼
    grid = np.zeros((h, w), dtype=int)
    
    # 2. å¯¹æ¯ä¸ªç½‘æ ¼å•å…ƒè¿›è¡Œç¢°æ’æ£€æµ‹
    for ix in range(h):
        for iy in range(w):
            wx, wy = self._grid2world(ix, iy)
            # 3. æ£€æŸ¥è¯¥ä½ç½®æ˜¯å¦ä¸éšœç¢ç‰©ç¢°æ’
            if self._check_collision(wx, wy):
                grid[ix, iy] = 1  # éšœç¢ç‰©
    
    return grid
```

**å…³é”®ç‚¹ï¼š**
- ä½¿ç”¨MuJoCoçš„`mj_raycast`æˆ–å‡ ä½•ä½“ç¢°æ’æ£€æµ‹
- ç½‘æ ¼åˆ†è¾¨ç‡å½±å“ç²¾åº¦å’Œè®¡ç®—æˆæœ¬

---

### 3. A*ç®—æ³•è¯¦è§£

**é—®é¢˜ï¼š** A*ç®—æ³•å¦‚ä½•å·¥ä½œï¼Ÿ

**ç­”æ¡ˆï¼š** ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—å’Œå¯å‘å¼å‡½æ•°

```python
def astar(grid, start, goal):
    # 1. åˆå§‹åŒ–
    g = {start: 0}  # g-costï¼šä»èµ·ç‚¹åˆ°å½“å‰èŠ‚ç‚¹çš„å®é™…ä»£ä»·
    pq = [(heuristic(start, goal), start)]  # ä¼˜å…ˆé˜Ÿåˆ—
    
    # 2. ä¸»å¾ªç¯
    while pq:
        f_cost, current = heapq.heappop(pq)
        
        # 3. åˆ°è¾¾ç›®æ ‡
        if current == goal:
            return reconstruct_path()
        
        # 4. æ‰©å±•é‚»å±…
        for neighbor in get_neighbors(current):
            # è®¡ç®—æ–°çš„g-cost
            new_g = g[current] + 1
            
            # å¦‚æœæ‰¾åˆ°æ›´ä¼˜è·¯å¾„ï¼Œæ›´æ–°
            if neighbor not in g or new_g < g[neighbor]:
                g[neighbor] = new_g
                f_new = new_g + heuristic(neighbor, goal)
                heapq.heappush(pq, (f_new, neighbor))
```

**å…³é”®ç‚¹ï¼š**
- **g-costï¼š** ä»èµ·ç‚¹åˆ°å½“å‰èŠ‚ç‚¹çš„å®é™…ä»£ä»·
- **h-costï¼š** ä»å½“å‰èŠ‚ç‚¹åˆ°ç›®æ ‡çš„å¯å‘å¼ä¼°è®¡ï¼ˆManhattanè·ç¦»ï¼‰
- **f-costï¼š** g + hï¼Œç”¨äºä¼˜å…ˆé˜Ÿåˆ—æ’åº
- **æœ€ä¼˜æ€§ï¼š** å¦‚æœå¯å‘å¼å‡½æ•°æ˜¯**å¯æ¥å—çš„**ï¼ˆadmissibleï¼‰ï¼ŒA*ä¿è¯æ‰¾åˆ°æœ€ä¼˜è·¯å¾„

---

### 4. MAPFé¢„ç•™è¡¨æœºåˆ¶

**é—®é¢˜ï¼š** é¢„ç•™è¡¨å¦‚ä½•é˜²æ­¢å†²çªï¼Ÿ

**ç­”æ¡ˆï¼š** é€šè¿‡è®°å½•å·²å ç”¨çš„ä½ç½®å’Œæ—¶é—´

**é¡¶ç‚¹å†²çªæ£€æµ‹ï¼š**
```python
# æ™ºèƒ½ä½“Aè§„åˆ’è·¯å¾„ï¼š[(0,0,0), (0,1,1), (1,1,2)]
# é¢„ç•™è¡¨è®°å½•ï¼švertices = {(0,0,0), (0,1,1), (1,1,2)}

# æ™ºèƒ½ä½“Bè§„åˆ’æ—¶ï¼Œæ£€æŸ¥å€™é€‰ä½ç½®(0,1,1)
if (0, 1, 1) in reservation_table.vertices:
    # å†²çªï¼è·³è¿‡è¯¥ä½ç½®
    continue
```

**è¾¹å†²çªæ£€æµ‹ï¼š**
```python
# æ™ºèƒ½ä½“Aï¼št=5ä»(3,4)ç§»åŠ¨åˆ°(4,4)
# é¢„ç•™è¡¨è®°å½•ï¼šedges = {(3,4,4,4,5), (4,4,3,4,5)}  # æ­£å‘å’Œåå‘

# æ™ºèƒ½ä½“Bï¼št=5ä»(4,4)ç§»åŠ¨åˆ°(3,4)
if (4, 4, 3, 4, 5) in reservation_table.edges:
    # å†²çªï¼ä¸¤ä¸ªæ™ºèƒ½ä½“äº¤æ¢ä½ç½®
    continue
```

**å…³é”®ç‚¹ï¼š**
- åŒæ—¶è®°å½•**æ­£å‘å’Œåå‘è¾¹**ï¼Œç”¨äºæ£€æµ‹äº¤æ¢å†²çª
- ä½¿ç”¨**Setæ•°æ®ç»“æ„**ï¼ŒæŸ¥æ‰¾æ•ˆç‡O(1)

---

### 5. æ—¶é—´æ‰©å±•A*è¯¦è§£

**é—®é¢˜ï¼š** æ—¶é—´æ‰©å±•A*ä¸æ ‡å‡†A*æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

**ç­”æ¡ˆï¼š** èŠ‚ç‚¹åŒ…å«æ—¶é—´ç»´åº¦ï¼Œæœç´¢ç©ºé—´ä»2Då˜ä¸º3D

**æ ‡å‡†A*ï¼š**
- èŠ‚ç‚¹ï¼š`(x, y)`
- æœç´¢ç©ºé—´ï¼š2Dï¼ˆç©ºé—´ï¼‰
- é‚»å±…ï¼š4ä¸ªæ–¹å‘ç§»åŠ¨

**æ—¶é—´æ‰©å±•A*ï¼š**
- èŠ‚ç‚¹ï¼š`(x, y, t)`
- æœç´¢ç©ºé—´ï¼š3Dï¼ˆç©ºé—´ Ã— æ—¶é—´ï¼‰
- é‚»å±…ï¼š4ä¸ªæ–¹å‘ç§»åŠ¨ + 1ä¸ªç­‰å¾…åŠ¨ä½œ

```python
def get_neighbors(x, y, t):
    neighbors = []
    
    # 4æ–¹å‘ç§»åŠ¨
    for dx, dy in [(1,0), (-1,0), (0,1), (0,-1)]:
        nx, ny = x + dx, y + dy
        nt = t + 1
        # æ£€æŸ¥å†²çª
        if not reservation_table.has_vertex_conflict(nx, ny, nt):
            if not reservation_table.has_edge_conflict(x, y, nx, ny, t):
                neighbors.append((nx, ny, nt))
    
    # ç­‰å¾…åŠ¨ä½œ
    if not reservation_table.has_vertex_conflict(x, y, t + 1):
        neighbors.append((x, y, t + 1))
    
    return neighbors
```

**å…³é”®ç‚¹ï¼š**
- æ”¯æŒ**ç­‰å¾…åŠ¨ä½œ**ï¼Œæ™ºèƒ½ä½“å¯ä»¥åŸåœ°ç­‰å¾…
- åœ¨æ‰©å±•é‚»å±…æ—¶**æ£€æŸ¥å†²çª**ï¼Œè€Œä¸æ˜¯åœ¨æ‰©å±•åæ£€æŸ¥
- ç›®æ ‡åˆ¤æ–­**å¿½ç•¥æ—¶é—´**ï¼š`(x, y) == goal`

---

### 6. LLMè§£ææµç¨‹

**é—®é¢˜ï¼š** LLMå¦‚ä½•å°†è‡ªç„¶è¯­è¨€è½¬æ¢ä¸ºç»“æ„åŒ–è®¡åˆ’ï¼Ÿ

**ç­”æ¡ˆï¼š** ä½¿ç”¨GPT-4o APIå’Œç»“æ„åŒ–æç¤º

**æµç¨‹ï¼š**
1. **æ„å»ºç³»ç»Ÿæç¤º**
   ```python
   system_prompt = """
   You are a navigation task planner. Parse the user instruction into JSON:
   {
     "task": "navigation",
     "agents": [
       {"id": "A", "goal": [x, y], "delay": 0.0},
       {"id": "B", "goal": [x, y], "delay": 0.0}
     ],
     "priority": ["A", "B"]
   }
   """
   ```

2. **è°ƒç”¨API**
   ```python
   response = openai.ChatCompletion.create(
       model="gpt-4o",
       messages=[
           {"role": "system", "content": system_prompt},
           {"role": "user", "content": user_text}
       ],
       response_format={"type": "json_object"}  # å¼ºåˆ¶JSONè¾“å‡º
   )
   ```

3. **æå–å’ŒéªŒè¯**
   ```python
   json_data = _extract_json_from_response(response_text)
   task_plan = TaskPlan(**json_data)  # PydanticéªŒè¯
   ```

**å…³é”®ç‚¹ï¼š**
- ä½¿ç”¨`response_format={"type": "json_object"}`å¼ºåˆ¶JSONè¾“å‡º
- ä½¿ç”¨**Pydantic**è‡ªåŠ¨éªŒè¯æ•°æ®æ ¼å¼
- å¤±è´¥æ—¶è‡ªåŠ¨**fallback**åˆ°é»˜è®¤è®¡åˆ’

---

### 7. å»¶è¿Ÿæœºåˆ¶å®ç°

**é—®é¢˜ï¼š** å¦‚ä½•å®ç°"Bobç­‰2ç§’å†å‡ºå‘"ï¼Ÿ

**ç­”æ¡ˆï¼š** é€šè¿‡`current_time`å’Œ`agent_delays`å‚æ•°

**æµç¨‹ï¼š**
1. **LLMè§£æå»¶è¿Ÿ**
   ```python
   # ç”¨æˆ·å‘½ä»¤ï¼š"Bobç­‰2ç§’å†å‡ºå‘"
   # LLMè§£æï¼šAgentSpec(id="B", delay=2.0)
   ```

2. **å­˜å‚¨å»¶è¿Ÿ**
   ```python
   agent_delays = {"bob": 2.0}  # Bobå»¶è¿Ÿ2ç§’
   ```

3. **æ‰§è¡Œæ—¶æ£€æŸ¥**
   ```python
   def step(self, dt, current_time, agent_delays):
       for agent_name in self.agent_names:
           delay = agent_delays.get(agent_name, 0.0)
           if current_time < delay:
               # å»¶è¿ŸæœŸé—´ï¼Œä¸ç§»åŠ¨
               continue
           # æ­£å¸¸ç§»åŠ¨é€»è¾‘
   ```

**å…³é”®ç‚¹ï¼š**
- ä½¿ç”¨**ä»¿çœŸæ—¶é—´**ï¼ˆ`current_time`ï¼‰è¿½è¸ªæ—¶é—´
- åœ¨`step()`æ–¹æ³•ä¸­æ£€æŸ¥å»¶è¿Ÿ
- å»¶è¿ŸæœŸé—´ï¼Œæ™ºèƒ½ä½“**ä¸ç§»åŠ¨**ï¼Œä½†ä»åœ¨ç¯å¢ƒä¸­

---

### 8. MuJoCoé›†æˆ

**é—®é¢˜ï¼š** å¦‚ä½•å°†è·¯å¾„è§„åˆ’ç»“æœåœ¨MuJoCoä¸­æ‰§è¡Œï¼Ÿ

**ç­”æ¡ˆï¼š** é€šè¿‡è¿åŠ¨å­¦æ§åˆ¶ç›´æ¥è®¾ç½®ä½ç½®

**æµç¨‹ï¼š**
1. **è·¯å¾„è§„åˆ’**ï¼šå¾—åˆ°ä¸–ç•Œåæ ‡è·¯å¾„ `[(x1, y1), (x2, y2), ...]`
2. **è¿åŠ¨å­¦æ§åˆ¶**ï¼šç›´æ¥è®¾ç½®`qpos`
   ```python
   def _set_body_xy(self, body_name, x, y):
       body_id = mujoco.mj_name2id(self.model, mujoco.mjtObj.mjOBJ_BODY, body_name)
       qpos_addr = self.body_qpos_addr[body_id]
       self.data.qpos[qpos_addr] = x
       self.data.qpos[qpos_addr + 1] = y
   ```
3. **æ­¥è¿›ä»¿çœŸ**ï¼š`mujoco.mj_step(model, data)`

**å…³é”®ç‚¹ï¼š**
- ä½¿ç”¨**è¿åŠ¨å­¦æ§åˆ¶**ï¼ˆç›´æ¥è®¾ç½®ä½ç½®ï¼‰ï¼Œä¸æ˜¯åŠ¨åŠ›å­¦ä»¿çœŸ
- ä¸éœ€è¦è®¡ç®—åŠ›æˆ–é€Ÿåº¦
- é€‚åˆè·¯å¾„è·Ÿè¸ªä»»åŠ¡

---

## ğŸ“Š æ•°æ®æµå›¾

```
ç”¨æˆ·è¾“å…¥ï¼ˆè‡ªç„¶è¯­è¨€ï¼‰
    â†“
[LLMè§£æ] llm_controller.py
    â†“
TaskPlan {agents, priority, delays}
    â†“
[è®¾ç½®ç›®æ ‡] end_to_end_navigation.py
    â†“
[MAPFè§„åˆ’] multi_agent_planner.py
    â†“
æ—¶é—´æˆ³è·¯å¾„ {(x, y, t), ...}
    â†“
[æ ¼å¼è½¬æ¢] nav_env_mapf.py
    â†“
ä¸–ç•Œåæ ‡è·¯å¾„ [(x, y), ...]
    â†“
[MuJoCoæ‰§è¡Œ] nav_env.py
    â†“
3Då¯è§†åŒ– / 2DåŠ¨ç”»
```

---

## ğŸ¯ å­¦ä¹ æ£€æŸ¥æ¸…å•

### åŸºç¡€ç†è§£
- [ ] ç†è§£é¡¹ç›®æ•´ä½“æ¶æ„ï¼ˆä¸‰ä¸ªæ¨¡å—ï¼šLLMã€MAPFã€MuJoCoï¼‰
- [ ] ç†è§£åæ ‡ç³»ç»Ÿè½¬æ¢ï¼ˆä¸–ç•Œåæ ‡ â†” ç½‘æ ¼åæ ‡ï¼‰
- [ ] ç†è§£å æ®æ …æ ¼çš„ä½œç”¨å’Œç”Ÿæˆæ–¹æ³•

### ç®—æ³•ç†è§£
- [ ] ç†è§£A*ç®—æ³•çš„å·¥ä½œåŸç†ï¼ˆg-cost, h-cost, f-costï¼‰
- [ ] ç†è§£MAPFé¢„ç•™è¡¨æœºåˆ¶ï¼ˆé¡¶ç‚¹å†²çªã€è¾¹å†²çªï¼‰
- [ ] ç†è§£æ—¶é—´æ‰©å±•A*ï¼ˆ3Dæœç´¢ç©ºé—´ã€ç­‰å¾…åŠ¨ä½œï¼‰
- [ ] ç†è§£ä¼˜å…ˆçº§è§„åˆ’æµç¨‹

### ç³»ç»Ÿé›†æˆ
- [ ] ç†è§£LLMè§£ææµç¨‹ï¼ˆè‡ªç„¶è¯­è¨€ â†’ ç»“æ„åŒ–è®¡åˆ’ï¼‰
- [ ] ç†è§£å»¶è¿Ÿæœºåˆ¶å®ç°
- [ ] ç†è§£MuJoCoé›†æˆï¼ˆè¿åŠ¨å­¦æ§åˆ¶ï¼‰
- [ ] ç†è§£ç«¯åˆ°ç«¯æµç¨‹ï¼ˆä»ç”¨æˆ·è¾“å…¥åˆ°å¯è§†åŒ–ï¼‰

### ä»£ç å®ç°
- [ ] èƒ½å¤Ÿé˜…è¯»å’Œç†è§£æ ¸å¿ƒä»£ç æ–‡ä»¶
- [ ] èƒ½å¤Ÿä¿®æ”¹å‚æ•°ï¼ˆç½‘æ ¼åˆ†è¾¨ç‡ã€ä¼˜å…ˆçº§é¡ºåºç­‰ï¼‰
- [ ] èƒ½å¤Ÿæ·»åŠ æ–°åŠŸèƒ½ï¼ˆä¾‹å¦‚ï¼šæ–°çš„å†²çªæ£€æµ‹ç­–ç•¥ï¼‰

---

## ğŸš€ å®è·µå»ºè®®

### 1. è¿è¡Œç¤ºä¾‹
```bash
# è¿è¡Œç«¯åˆ°ç«¯å¯¼èˆª
./llm_interface/run_with_viewer.sh

# è¿è¡ŒMAPFæ¼”ç¤º
python nav_world/run_mapf_demo.py

# è¿è¡Œ2DåŠ¨ç”»
python my_demos/robot_navigation_demo.py
```

### 2. ä¿®æ”¹å‚æ•°å®éªŒ
- ä¿®æ”¹ç½‘æ ¼åˆ†è¾¨ç‡ï¼š`grid_res = 0.1` â†’ `0.05` æˆ– `0.2`
- ä¿®æ”¹ä¼˜å…ˆçº§é¡ºåºï¼š`['alice', 'bob']` â†’ `['bob', 'alice']`
- ä¿®æ”¹å»¶è¿Ÿæ—¶é—´ï¼šæµ‹è¯•ä¸åŒçš„å»¶è¿Ÿå€¼

### 3. æ·»åŠ è°ƒè¯•è¾“å‡º
```python
# åœ¨å…³é”®ä½ç½®æ·»åŠ printè¯­å¥
print(f"Planning path for {agent_id}: {start} -> {goal}")
print(f"Reservation table: {len(reservation_table.vertices)} vertices")
```

### 4. å¯è§†åŒ–è·¯å¾„
```python
# åœ¨è§„åˆ’åæ‰“å°è·¯å¾„
for agent_id, path in paths.items():
    print(f"{agent_id} path: {path[:5]} ... {path[-5:]}")
```

---

## ğŸ“š æ¨èé˜…è¯»é¡ºåºæ€»ç»“

### å¿«é€Ÿå…¥é—¨ï¼ˆ1å°æ—¶ï¼‰
1. `README.md` - é¡¹ç›®æ¦‚è¿°
2. `docs/user_guides/HOW_TO_RUN.md` - è¿è¡ŒæŒ‡å—
3. `docs/technical/HOW_LLM_CONTROLS_PATH_PLANNING.md` - æŠ€æœ¯æ¶æ„

### æ·±å…¥ç†è§£ï¼ˆ2-3å°æ—¶ï¼‰
4. `nav_world/nav_env.py` - åŸºç¡€ç¯å¢ƒ
5. `nav_world/multi_agent_planner.py` - MAPFç®—æ³•
6. `nav_world/nav_env_mapf.py` - MAPFé›†æˆ
7. `llm_interface/llm_controller.py` - LLMè§£æ
8. `llm_interface/end_to_end_navigation.py` - ä¸»å…¥å£

### æ‰©å±•å­¦ä¹ ï¼ˆå¯é€‰ï¼‰
9. `docs/technical/MAPF_DETAILED_EXPLANATION.md` - MAPFè¯¦ç»†è®²è§£
10. `my_demos/robot_navigation_demo.py` - 2Då¯è§†åŒ–

---

## ğŸ’¡ å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆä½¿ç”¨ç½‘æ ¼è€Œä¸æ˜¯è¿ç»­ç©ºé—´ï¼Ÿ
**A:** ç½‘æ ¼åŒ–ç®€åŒ–äº†è·¯å¾„è§„åˆ’ç®—æ³•ï¼ŒA*ç­‰ç®—æ³•åœ¨ç¦»æ•£ç©ºé—´ä¸­æ›´é«˜æ•ˆã€‚

### Q2: ä¸ºä»€ä¹ˆä½¿ç”¨ä¼˜å…ˆçº§è§„åˆ’è€Œä¸æ˜¯å…¶ä»–MAPFç®—æ³•ï¼Ÿ
**A:** ä¼˜å…ˆçº§è§„åˆ’ç®€å•é«˜æ•ˆï¼Œé€‚åˆå®æ—¶åº”ç”¨ã€‚è™½ç„¶ä¸èƒ½ä¿è¯æœ€ä¼˜è§£ï¼Œä½†èƒ½ä¿è¯æ— ç¢°æ’ã€‚

### Q3: å»¶è¿Ÿæœºåˆ¶å¦‚ä½•ä¸MAPFè§„åˆ’é…åˆï¼Ÿ
**A:** å»¶è¿Ÿæ˜¯åœ¨**æ‰§è¡Œé˜¶æ®µ**å®ç°çš„ï¼Œä¸å½±å“è·¯å¾„è§„åˆ’ã€‚è§„åˆ’æ—¶å‡è®¾æ‰€æœ‰æ™ºèƒ½ä½“åŒæ—¶å‡ºå‘ï¼Œæ‰§è¡Œæ—¶é€šè¿‡`current_time`å’Œ`agent_delays`æ§åˆ¶å®é™…å¯åŠ¨æ—¶é—´ã€‚

### Q4: å¦‚ä½•ä¿®æ”¹éšœç¢ç‰©å¸ƒå±€ï¼Ÿ
**A:** ä¿®æ”¹`nav_world/room.xml`æ–‡ä»¶ä¸­çš„éšœç¢ç‰©å®šä¹‰ï¼Œç„¶åé‡æ–°è¿è¡Œç¨‹åºã€‚

### Q5: å¦‚ä½•æ·»åŠ æ›´å¤šæœºå™¨äººï¼Ÿ
**A:** éœ€è¦ä¿®æ”¹ï¼š
1. `room.xml` - æ·»åŠ æœºå™¨äººbodyå’Œgoal site
2. `nav_env.py` - æ›´æ–°`agent_names`å’Œ`goal_sites`
3. `llm_controller.py` - æ›´æ–°AgentSpecè§£æé€»è¾‘

---

## ğŸ“ ä¸‹ä¸€æ­¥å­¦ä¹ æ–¹å‘

1. **ä¼˜åŒ–MAPFç®—æ³•**
   - å®ç°CBS (Conflict-Based Search)ç®—æ³•
   - å®ç°åŠ¨æ€ä¼˜å…ˆçº§è°ƒæ•´

2. **æ‰©å±•LLMåŠŸèƒ½**
   - æ”¯æŒæ›´å¤æ‚çš„è‡ªç„¶è¯­è¨€æŒ‡ä»¤
   - æ”¯æŒåŠ¨æ€ä»»åŠ¡ä¿®æ”¹

3. **æ”¹è¿›å¯è§†åŒ–**
   - æ·»åŠ è·¯å¾„é¢„æµ‹å¯è§†åŒ–
   - æ·»åŠ å†²çªæ£€æµ‹å¯è§†åŒ–

4. **æ€§èƒ½ä¼˜åŒ–**
   - ä¼˜åŒ–ç½‘æ ¼åˆ†è¾¨ç‡é€‰æ‹©
   - ä¼˜åŒ–MAPFè§„åˆ’æ—¶é—´

---

**ç¥ä½ å­¦ä¹ æ„‰å¿«ï¼** ğŸ‰

